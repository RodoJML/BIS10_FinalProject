<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<!-- To create this new HTML page we went to "Web Pages" right click -->
<!-- "New" >> "Other" >> "Web" >> JSF Page >> "welcome.html" -->

<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:p="http://primefaces.org/ui"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <!-- HEAD: NAME SHOWN ON BROWSER TABS -->

    <h:head>

        <title>Mantenimiento</title>

    </h:head>

    <h:body style = "background-color:lightgray">

        <p:outputLabel><h1>Mantenimiento</h1></p:outputLabel>

        <p>
            <p:button value="Bienvenido: #{signInController.userTO.name} #{signInController.userTO.lastName}" icon = "pi pi-user" styleClass="ui-button-secondary" /> &nbsp;
            <p:button value="Recetas disponibles: #{addRecipeController.recipeService.countRecipes()}" icon = "pi pi-chart-bar" styleClass="ui-button-secondary" /> &nbsp;
            <p:button value="Ingredientes disponibles: #{addRecipeController.ingredientService.ingredientsCount()}" icon = "pi pi-chart-bar" styleClass="ui-button-secondary" />
        </p>

        <h:form id ="form">

            <p:growl id="messages" showDetail="true" />

            <p:tabMenu activeIndex="#{param.i}">

                <p:menuitem value = "Inicio" outcome = "welcome" icon = "pi pi-fw pi-home" >
                    <f:param name = "i" value = "0"/>
                </p:menuitem>


                <p:menuitem value = "Mantenimiento" outcome = "maintenance" icon = "pi pi-cog">
                    <f:param name = "i" value = "1"/>
                </p:menuitem>


                <p:menuitem value = "Cerrar SesiÃ³n" outcome = "index" icon = "pi pi-sign-out">
                    <f:param name = "i" value = "2"/>
                </p:menuitem>

            </p:tabMenu>


            &nbsp;


            <p:panelGrid columns="1">

                <p:commandButton value="Inventario de Ingredientes" icon ="pi pi-lock" styleClass="ui-button-danger"
                                 actionListener = "#{crudIngredientController.openPage()}" disabled="#{signInController.userTO.name != 'admin'}"/>

                <p:commandButton value="Mantenimiento de Recetas" icon ="pi pi-cog" actionListener = "#{crudRecipesController.openPage()}" />


            </p:panelGrid>



        </h:form>

        <center>
            Ulatina, 2022
            <br/> <br/>
            Rodolfo Meneses
        </center>

    </h:body>

</html>